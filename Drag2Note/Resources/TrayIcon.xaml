<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:tb="http://www.hardcodet.net/taskbar">

    <ContextMenu x:Key="TrayMenu">
        <MenuItem Header="切换悬浮窗 (Alt+J)" Command="{Binding ToggleFloatingWindowCommand}" />
        <Separator />
        <MenuItem Header="退出" Command="{Binding ExitCommand}" />
    </ContextMenu>

    <tb:TaskbarIcon x:Key="TrayIcon"
                    ToolTipText="Drag2Note"
                    ContextMenu="{StaticResource TrayMenu}"
                    MenuActivation="RightClick"
                    DoubleClickCommand="{Binding ToggleFloatingWindowCommand}">
        <!-- Temporary icon setting in code-behind or generic default if needed. 
             Ideally should point to an .ico file. For now, we rely on the default app icon or system fallback. 
             If explicit icon needed: IconSource="/Resources/app.ico" -->
    </tb:TaskbarIcon>

</ResourceDictionary>
